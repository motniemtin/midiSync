{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@capgo/capacitor-social-login/dist/esm/base.js","sources":["file:///www/wwwroot/pianosync.com/node_modules/%40capgo/capacitor-social-login/src/base.ts"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\n\nexport class BaseSocialLogin extends WebPlugin {\n  protected static readonly OAUTH_STATE_KEY = 'social_login_oauth_pending';\n\n  constructor() {\n    super();\n  }\n\n  protected parseJwt(token: string): any {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split('')\n        .map((c) => {\n          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        })\n        .join(''),\n    );\n    return JSON.parse(jsonPayload);\n  }\n\n  protected async loadScript(src: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const script = document.createElement('script');\n      script.src = src;\n      script.async = true;\n      script.onload = () => {\n        resolve();\n      };\n      script.onerror = reject;\n      document.body.appendChild(script);\n    });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;;AAEtC,MAAO,eAAgB,SAAQ,oKAAS;IAG5C,aAAA;QACE,KAAK,EAAE,CAAC;IACV,CAAC;IAES,QAAQ,CAAC,KAAa,EAAA;QAC9B,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC/D,MAAM,WAAW,GAAG,kBAAkB,CACpC,IAAI,CAAC,MAAM,CAAC,CACT,KAAK,CAAC,EAAE,CAAC,CACT,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACT,OAAO,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CACD,IAAI,CAAC,EAAE,CAAC,CACZ,CAAC;QACF,OAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;IACjC,CAAC;IAES,KAAK,CAAC,UAAU,CAAC,GAAW,EAAA;QACpC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACrC,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAChD,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;YACjB,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,MAAM,CAAC,MAAM,GAAG,GAAG,EAAE;gBACnB,OAAO,EAAE,CAAC;YACZ,CAAC,CAAC;YACF,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC;YACxB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;;AA/ByB,gBAAA,eAAe,GAAG,4BAA4B,CAAC","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@capgo/capacitor-social-login/dist/esm/apple-provider.js","sources":["file:///www/wwwroot/pianosync.com/node_modules/%40capgo/capacitor-social-login/src/apple-provider.ts"],"sourcesContent":["import { BaseSocialLogin } from './base';\nimport type { AppleProviderOptions, AppleProviderResponse, AuthorizationCode, LoginResult } from './definitions';\n\ndeclare const AppleID: any;\n\nexport class AppleSocialLogin extends BaseSocialLogin {\n  private clientId: string | null = null;\n  private redirectUrl: string | null = null;\n  private scriptLoaded = false;\n  private scriptUrl = 'https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js';\n  private useProperTokenExchange = false;\n\n  async initialize(\n    clientId: string | null,\n    redirectUrl: string | null | undefined,\n    useProperTokenExchange = false,\n  ): Promise<void> {\n    this.clientId = clientId;\n    this.redirectUrl = redirectUrl || null;\n    this.useProperTokenExchange = useProperTokenExchange;\n\n    if (clientId) {\n      await this.loadAppleScript();\n    }\n  }\n\n  async login(options: AppleProviderOptions): Promise<LoginResult> {\n    if (!this.clientId) {\n      throw new Error('Apple Client ID not set. Call initialize() first.');\n    }\n\n    if (!this.scriptLoaded) {\n      throw new Error('Apple Sign-In script not loaded.');\n    }\n\n    return new Promise((resolve, reject) => {\n      AppleID.auth.init({\n        clientId: this.clientId!,\n        scope: options.scopes?.join(' ') || 'name email',\n        redirectURI: this.redirectUrl || window.location.href,\n        state: options.state,\n        nonce: options.nonce,\n        usePopup: true,\n      });\n\n      AppleID.auth\n        .signIn()\n        .then((res: any) => {\n          let accessToken: { token: string } | null = null;\n\n          if (this.useProperTokenExchange) {\n            // When using proper token exchange, the authorization code should be exchanged\n            // for a proper access token on the backend. For now, we set accessToken to null\n            // and provide the authorization code in a separate field for backend processing.\n            accessToken = null;\n          } else {\n            // Legacy behavior: use authorization code as access token for backward compatibility\n            accessToken = {\n              token: res.authorization.code || '',\n            };\n          }\n\n          const result: AppleProviderResponse = {\n            profile: {\n              user: res.user || '',\n              email: res.user?.email || null,\n              givenName: res.user?.name?.firstName || null,\n              familyName: res.user?.name?.lastName || null,\n            },\n            accessToken: accessToken,\n            idToken: res.authorization.id_token || null,\n            // Add authorization code for proper token exchange when flag is enabled\n            ...(this.useProperTokenExchange && { authorizationCode: res.authorization.code }),\n          };\n          resolve({ provider: 'apple', result });\n        })\n        .catch((error: any) => {\n          reject(error);\n        });\n    });\n  }\n\n  async logout(): Promise<void> {\n    // Apple doesn't provide a logout method for web\n    console.log('Apple logout: Session should be managed on the client side');\n  }\n\n  async isLoggedIn(): Promise<{ isLoggedIn: boolean }> {\n    // Apple doesn't provide a method to check login status on web\n    console.log('Apple login status should be managed on the client side');\n    return { isLoggedIn: false };\n  }\n\n  async getAuthorizationCode(): Promise<AuthorizationCode> {\n    // Apple authorization code should be obtained during login\n    console.log('Apple authorization code should be stored during login');\n    throw new Error('Apple authorization code not available');\n  }\n\n  async refresh(): Promise<void> {\n    // Apple doesn't provide a refresh method for web\n    console.log('Apple refresh not available on web');\n  }\n\n  private async loadAppleScript(): Promise<void> {\n    if (this.scriptLoaded) return;\n\n    return this.loadScript(this.scriptUrl).then(() => {\n      this.scriptLoaded = true;\n    });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,QAAQ,CAAC;;AAKnC,MAAO,gBAAiB,SAAQ,oMAAe;IAArD,aAAA;;QACU,IAAA,CAAA,QAAQ,GAAkB,IAAI,CAAC;QAC/B,IAAA,CAAA,WAAW,GAAkB,IAAI,CAAC;QAClC,IAAA,CAAA,YAAY,GAAG,KAAK,CAAC;QACrB,IAAA,CAAA,SAAS,GAAG,sFAAsF,CAAC;QACnG,IAAA,CAAA,sBAAsB,GAAG,KAAK,CAAC;IAqGzC,CAAC;IAnGC,KAAK,CAAC,UAAU,CACd,QAAuB,EACvB,WAAsC,EACtC,sBAAsB,GAAG,KAAK,EAAA;QAE9B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,WAAW,IAAI,IAAI,CAAC;QACvC,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;QAErD,IAAI,QAAQ,EAAE,CAAC;YACb,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,OAA6B,EAAA;QACvC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;QACvE,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACvB,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;QACtD,CAAC;QAED,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;;YACrC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;gBAChB,QAAQ,EAAE,IAAI,CAAC,QAAS;gBACxB,KAAK,EAAE,CAAA,CAAA,KAAA,OAAO,CAAC,MAAM,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,CAAC,GAAG,CAAC,KAAI,YAAY;gBAChD,WAAW,EAAE,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI;gBACrD,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,KAAK,EAAE,OAAO,CAAC,KAAK;gBACpB,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YAEH,OAAO,CAAC,IAAI,CACT,MAAM,EAAE,CACR,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;;gBACjB,IAAI,WAAW,GAA6B,IAAI,CAAC;gBAEjD,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAC;oBAChC,+EAA+E;oBAC/E,gFAAgF;oBAChF,iFAAiF;oBACjF,WAAW,GAAG,IAAI,CAAC;gBACrB,CAAC,MAAM,CAAC;oBACN,qFAAqF;oBACrF,WAAW,GAAG;wBACZ,KAAK,EAAE,GAAG,CAAC,aAAa,CAAC,IAAI,IAAI,EAAE;qBACpC,CAAC;gBACJ,CAAC;gBAED,MAAM,MAAM,GAAA,OAAA,MAAA,CAAA;oBACV,OAAO,EAAE;wBACP,IAAI,EAAE,GAAG,CAAC,IAAI,IAAI,EAAE;wBACpB,KAAK,EAAE,CAAA,CAAA,KAAA,GAAG,CAAC,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,KAAK,KAAI,IAAI;wBAC9B,SAAS,EAAE,CAAA,CAAA,KAAA,CAAA,KAAA,GAAG,CAAC,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,SAAS,KAAI,IAAI;wBAC5C,UAAU,EAAE,CAAA,CAAA,KAAA,CAAA,KAAA,GAAG,CAAC,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,IAAI,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,QAAQ,KAAI,IAAI;qBAC7C;oBACD,WAAW,EAAE,WAAW;oBACxB,OAAO,EAAE,GAAG,CAAC,aAAa,CAAC,QAAQ,IAAI,IAAI;gBAAA,GAExC,AAAC,IAAI,CAAC,sBAAsB,IAAI;oBAAE,iBAAiB,EAAE,GAAG,CAAC,aAAa,CAAC,IAAI;gBAAA,CAAE,CAAC,CAClF,CAAC;gBACF,OAAO,CAAC;oBAAE,QAAQ,EAAE,OAAO;oBAAE,MAAM;gBAAA,CAAE,CAAC,CAAC;YACzC,CAAC,CAAC,CACD,KAAK,CAAC,CAAC,KAAU,EAAE,EAAE;gBACpB,MAAM,CAAC,KAAK,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,MAAM,GAAA;QACV,gDAAgD;QAChD,OAAO,CAAC,GAAG,CAAC,4DAA4D,CAAC,CAAC;IAC5E,CAAC;IAED,KAAK,CAAC,UAAU,GAAA;QACd,8DAA8D;QAC9D,OAAO,CAAC,GAAG,CAAC,yDAAyD,CAAC,CAAC;QACvE,OAAO;YAAE,UAAU,EAAE,KAAK;QAAA,CAAE,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,oBAAoB,GAAA;QACxB,2DAA2D;QAC3D,OAAO,CAAC,GAAG,CAAC,wDAAwD,CAAC,CAAC;QACtE,MAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,OAAO,GAAA;QACX,iDAAiD;QACjD,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;IACpD,CAAC;IAEO,KAAK,CAAC,eAAe,GAAA;QAC3B,IAAI,IAAI,CAAC,YAAY,EAAE,OAAO;QAE9B,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAC/C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;CACF","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@capgo/capacitor-social-login/dist/esm/facebook-provider.js","sources":["file:///www/wwwroot/pianosync.com/node_modules/%40capgo/capacitor-social-login/src/facebook-provider.ts"],"sourcesContent":["import { BaseSocialLogin } from './base';\nimport type { FacebookLoginOptions, FacebookLoginResponse, AuthorizationCode, LoginResult } from './definitions';\n\ndeclare const FB: {\n  init(options: any): void;\n  login(\n    callback: (response: { status: string; authResponse: { accessToken: string; userID: string } }) => void,\n    options?: { scope: string },\n  ): void;\n  logout(callback: () => void): void;\n  api(path: string, params: { fields: string }, callback: (response: any) => void): void;\n  getLoginStatus(callback: (response: { status: string; authResponse?: { accessToken: string } }) => void): void;\n};\n\nexport class FacebookSocialLogin extends BaseSocialLogin {\n  private appId: string | null = null;\n  private scriptLoaded = false;\n  private locale = 'en_US';\n\n  async initialize(appId: string | null, locale?: string): Promise<void> {\n    this.appId = appId;\n    if (locale) {\n      this.locale = locale;\n    }\n\n    if (appId) {\n      // Load with the specified locale or default\n      await this.loadFacebookScript(this.locale);\n      FB.init({\n        appId: this.appId,\n        version: 'v17.0',\n        xfbml: true,\n        cookie: true,\n      });\n    }\n  }\n\n  async login(options: FacebookLoginOptions): Promise<LoginResult> {\n    if (!this.appId) {\n      throw new Error('Facebook App ID not set. Call initialize() first.');\n    }\n\n    return new Promise((resolve, reject) => {\n      FB.login(\n        (response) => {\n          if (response.status === 'connected') {\n            FB.api('/me', { fields: 'id,name,email,picture' }, (userInfo: any) => {\n              const result: FacebookLoginResponse = {\n                accessToken: {\n                  token: response.authResponse.accessToken,\n                  userId: response.authResponse.userID,\n                },\n                profile: {\n                  userID: userInfo.id,\n                  name: userInfo.name,\n                  email: userInfo.email || null,\n                  imageURL: userInfo.picture?.data?.url || null,\n                  friendIDs: [],\n                  birthday: null,\n                  ageRange: null,\n                  gender: null,\n                  location: null,\n                  hometown: null,\n                  profileURL: null,\n                },\n                idToken: null,\n              };\n              resolve({ provider: 'facebook', result });\n            });\n          } else {\n            reject(new Error('Facebook login failed'));\n          }\n        },\n        { scope: options.permissions.join(',') },\n      );\n    });\n  }\n\n  async logout(): Promise<void> {\n    return new Promise<void>((resolve) => {\n      FB.logout(() => resolve());\n    });\n  }\n\n  async isLoggedIn(): Promise<{ isLoggedIn: boolean }> {\n    return new Promise((resolve) => {\n      FB.getLoginStatus((response) => {\n        resolve({ isLoggedIn: response.status === 'connected' });\n      });\n    });\n  }\n\n  async getAuthorizationCode(): Promise<AuthorizationCode> {\n    return new Promise((resolve, reject) => {\n      FB.getLoginStatus((response) => {\n        if (response.status === 'connected') {\n          resolve({ jwt: response.authResponse?.accessToken || '' });\n        } else {\n          reject(new Error('No Facebook authorization code available'));\n        }\n      });\n    });\n  }\n\n  async refresh(options: FacebookLoginOptions): Promise<void> {\n    await this.login(options);\n  }\n\n  private async loadFacebookScript(locale: string): Promise<void> {\n    if (this.scriptLoaded) return;\n\n    // Remove any existing Facebook SDK script\n    const existingScript = document.querySelector('script[src*=\"connect.facebook.net\"]');\n    if (existingScript) {\n      existingScript.remove();\n    }\n\n    return this.loadScript(`https://connect.facebook.net/${locale}/sdk.js`).then(() => {\n      this.scriptLoaded = true;\n    });\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@capgo/capacitor-social-login/dist/esm/google-provider.js","sources":["file:///www/wwwroot/pianosync.com/node_modules/%40capgo/capacitor-social-login/src/google-provider.ts"],"sourcesContent":["import { BaseSocialLogin } from './base';\nimport type { GoogleLoginOptions, LoginResult, ProviderResponseMap, AuthorizationCode } from './definitions';\n\nexport class GoogleSocialLogin extends BaseSocialLogin {\n  private clientId: string | null = null;\n  private hostedDomain?: string;\n  private loginType: 'online' | 'offline' = 'online';\n  private redirectUrl?: string;\n  private GOOGLE_TOKEN_REQUEST_URL = 'https://www.googleapis.com/oauth2/v3/tokeninfo';\n  private readonly GOOGLE_STATE_KEY = 'capgo_social_login_google_state';\n\n  async initialize(\n    clientId: string | null,\n    mode?: 'online' | 'offline',\n    hostedDomain?: string | null,\n    redirectUrl?: string,\n  ): Promise<void> {\n    this.clientId = clientId;\n    if (mode) {\n      this.loginType = mode;\n    }\n    this.hostedDomain = hostedDomain as string | undefined;\n    this.redirectUrl = redirectUrl;\n  }\n\n  async login<T extends 'google'>(\n    options: GoogleLoginOptions,\n  ): Promise<{ provider: T; result: ProviderResponseMap[T] }> {\n    if (!this.clientId) {\n      throw new Error('Google Client ID not set. Call initialize() first.');\n    }\n\n    let scopes = options.scopes || [];\n\n    if (scopes.length > 0) {\n      // If scopes are provided, directly use the traditional OAuth flow\n      if (!scopes.includes('https://www.googleapis.com/auth/userinfo.email')) {\n        scopes.push('https://www.googleapis.com/auth/userinfo.email');\n      }\n      if (!scopes.includes('https://www.googleapis.com/auth/userinfo.profile')) {\n        scopes.push('https://www.googleapis.com/auth/userinfo.profile');\n      }\n      if (!scopes.includes('openid')) {\n        scopes.push('openid');\n      }\n    } else {\n      scopes = [\n        'https://www.googleapis.com/auth/userinfo.email',\n        'https://www.googleapis.com/auth/userinfo.profile',\n        'openid',\n      ];\n    }\n\n    const nonce = options.nonce || Math.random().toString(36).substring(2);\n\n    // If scopes are provided, directly use the traditional OAuth flow\n    return this.traditionalOAuth({\n      scopes,\n      nonce,\n      hostedDomain: this.hostedDomain,\n      prompt: options.prompt,\n    });\n  }\n\n  async logout(): Promise<void> {\n    if (this.loginType === 'offline') {\n      return Promise.reject(\"Offline login doesn't store tokens. logout is not available\");\n    }\n    // eslint-disable-next-line\n    const state = this.getGoogleState();\n    if (!state) return;\n    await this.rawLogoutGoogle(state.accessToken);\n  }\n\n  async isLoggedIn(): Promise<{ isLoggedIn: boolean }> {\n    if (this.loginType === 'offline') {\n      return Promise.reject(\"Offline login doesn't store tokens. isLoggedIn is not available\");\n    }\n    // eslint-disable-next-line\n    const state = this.getGoogleState();\n    if (!state) return { isLoggedIn: false };\n\n    try {\n      const isValidAccessToken = await this.accessTokenIsValid(state.accessToken);\n      const isValidIdToken = this.idTokenValid(state.idToken);\n      if (isValidAccessToken && isValidIdToken) {\n        return { isLoggedIn: true };\n      } else {\n        try {\n          await this.rawLogoutGoogle(state.accessToken, false);\n        } catch (e) {\n          console.error('Access token is not valid, but cannot logout', e);\n        }\n        return { isLoggedIn: false };\n      }\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n\n  async getAuthorizationCode(): Promise<AuthorizationCode> {\n    if (this.loginType === 'offline') {\n      return Promise.reject(\"Offline login doesn't store tokens. getAuthorizationCode is not available\");\n    }\n    // eslint-disable-next-line\n    const state = this.getGoogleState();\n    if (!state) throw new Error('No Google authorization code available');\n\n    try {\n      const isValidAccessToken = await this.accessTokenIsValid(state.accessToken);\n      const isValidIdToken = this.idTokenValid(state.idToken);\n      if (isValidAccessToken && isValidIdToken) {\n        return { accessToken: state.accessToken, jwt: state.idToken };\n      } else {\n        try {\n          await this.rawLogoutGoogle(state.accessToken, false);\n        } catch (e) {\n          console.error('Access token is not valid, but cannot logout', e);\n        }\n        throw new Error('No Google authorization code available');\n      }\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n\n  async refresh(): Promise<void> {\n    // For Google, we can prompt for re-authentication\n    return Promise.reject('Not implemented');\n  }\n\n  handleOAuthRedirect(url: URL): LoginResult | null {\n    const paramsRaw = url.searchParams;\n    const code = paramsRaw.get('code');\n\n    if (code && paramsRaw.has('scope')) {\n      return {\n        provider: 'google',\n        result: {\n          serverAuthCode: code,\n          responseType: 'offline',\n        },\n      };\n    }\n\n    const hash = url.hash.substring(1);\n    console.log('handleOAuthRedirect', url.hash);\n    if (!hash) return null;\n    console.log('handleOAuthRedirect ok');\n\n    const params = new URLSearchParams(hash);\n    const accessToken = params.get('access_token');\n    const idToken = params.get('id_token');\n\n    if (accessToken && idToken) {\n      localStorage.removeItem(BaseSocialLogin.OAUTH_STATE_KEY);\n      const profile = this.parseJwt(idToken);\n      return {\n        provider: 'google',\n        result: {\n          accessToken: {\n            token: accessToken,\n          },\n          idToken,\n          profile: {\n            email: profile.email || null,\n            familyName: profile.family_name || null,\n            givenName: profile.given_name || null,\n            id: profile.sub || null,\n            name: profile.name || null,\n            imageUrl: profile.picture || null,\n          },\n          responseType: 'online',\n        },\n      };\n    }\n    return null;\n  }\n\n  private async accessTokenIsValid(accessToken: string): Promise<boolean> {\n    const url = `${this.GOOGLE_TOKEN_REQUEST_URL}?access_token=${encodeURIComponent(accessToken)}`;\n\n    try {\n      // Make the GET request using fetch\n      const response = await fetch(url);\n\n      // Check if the response is successful\n      if (!response.ok) {\n        console.log(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response not successful. Status code: ${response.status}. Assuming that the token is not valid`,\n        );\n        return false;\n      }\n\n      // Get the response body as text\n      const responseBody = await response.text();\n\n      if (!responseBody) {\n        console.error(`Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response body is null`);\n        throw new Error(`Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response body is null`);\n      }\n\n      // Parse the response body as JSON\n      let jsonObject: any;\n      try {\n        jsonObject = JSON.parse(responseBody);\n      } catch (e) {\n        console.error(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response body is not valid JSON. Error: ${e}`,\n        );\n        throw new Error(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response body is not valid JSON. Error: ${e}`,\n        );\n      }\n\n      // Extract the 'expires_in' field\n      const expiresInStr = jsonObject['expires_in'];\n\n      if (expiresInStr === undefined || expiresInStr === null) {\n        console.error(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response JSON does not include 'expires_in'.`,\n        );\n        throw new Error(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. Response JSON does not include 'expires_in'.`,\n        );\n      }\n\n      // Parse 'expires_in' as an integer\n      let expiresInInt: number;\n      try {\n        expiresInInt = parseInt(expiresInStr, 10);\n        if (isNaN(expiresInInt)) {\n          throw new Error(`'expires_in' is not a valid integer`);\n        }\n      } catch (e) {\n        console.error(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. 'expires_in': ${expiresInStr} is not a valid integer. Error: ${e}`,\n        );\n        throw new Error(\n          `Invalid response from ${this.GOOGLE_TOKEN_REQUEST_URL}. 'expires_in': ${expiresInStr} is not a valid integer. Error: ${e}`,\n        );\n      }\n\n      // Determine if the access token is valid based on 'expires_in'\n      return expiresInInt > 5;\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n\n  private idTokenValid(idToken: string): boolean {\n    try {\n      const parsed = this.parseJwt(idToken);\n      const currentTime = Math.ceil(Date.now() / 1000) + 5; // Convert current time to seconds since epoch\n      return parsed.exp && currentTime < parsed.exp;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  private async rawLogoutGoogle(accessToken: string, tokenValid: boolean | null = null) {\n    if (tokenValid === null) {\n      tokenValid = await this.accessTokenIsValid(accessToken);\n    }\n\n    if (tokenValid === true) {\n      try {\n        await fetch(`https://accounts.google.com/o/oauth2/revoke?token=${encodeURIComponent(accessToken)}`);\n        this.clearStateGoogle();\n      } catch (e) {\n        // ignore\n      }\n      return;\n    } else {\n      this.clearStateGoogle();\n      return;\n    }\n  }\n\n  private persistStateGoogle(accessToken: string, idToken: string) {\n    try {\n      window.localStorage.setItem(this.GOOGLE_STATE_KEY, JSON.stringify({ accessToken, idToken }));\n    } catch (e) {\n      console.error('Cannot persist state google', e);\n    }\n  }\n\n  private clearStateGoogle() {\n    try {\n      window.localStorage.removeItem(this.GOOGLE_STATE_KEY);\n    } catch (e) {\n      console.error('Cannot clear state google', e);\n    }\n  }\n\n  private getGoogleState(): { accessToken: string; idToken: string } | null {\n    try {\n      const state = window.localStorage.getItem(this.GOOGLE_STATE_KEY);\n      if (!state) return null;\n      const { accessToken, idToken } = JSON.parse(state);\n      return { accessToken, idToken };\n    } catch (e) {\n      console.error('Cannot get state google', e);\n      return null;\n    }\n  }\n\n  private async traditionalOAuth<T extends 'google'>({\n    scopes,\n    hostedDomain,\n    nonce,\n    prompt,\n  }: GoogleLoginOptions & { hostedDomain?: string }): Promise<{ provider: T; result: ProviderResponseMap[T] }> {\n    const uniqueScopes = [...new Set([...(scopes || []), 'openid'])];\n\n    const params = new URLSearchParams({\n      client_id: this.clientId!,\n      redirect_uri: this.redirectUrl || window.location.origin + window.location.pathname,\n      response_type: this.loginType === 'offline' ? 'code' : 'token id_token',\n      scope: uniqueScopes.join(' '),\n      ...(nonce && { nonce }),\n      include_granted_scopes: 'true',\n      state: 'popup',\n    });\n    if (hostedDomain !== undefined) {\n      params.append('hd', hostedDomain);\n    }\n    if (prompt !== undefined) {\n      params.append('prompt', prompt);\n    }\n\n    const url = `https://accounts.google.com/o/oauth2/v2/auth?${params.toString()}`;\n    const width = 500;\n    const height = 600;\n    const left = window.screenX + (window.outerWidth - width) / 2;\n    const top = window.screenY + (window.outerHeight - height) / 2;\n    localStorage.setItem(BaseSocialLogin.OAUTH_STATE_KEY, 'true');\n    const popup = window.open(url, 'Google Sign In', `width=${width},height=${height},left=${left},top=${top},popup=1`);\n\n    let popupClosedInterval: number;\n    let timeoutHandle: number;\n\n    // This may never return...\n    return new Promise((resolve, reject) => {\n      if (!popup) {\n        reject(new Error('Failed to open popup'));\n        return;\n      }\n\n      const handleMessage = (event: MessageEvent) => {\n        if (event.origin !== window.location.origin || event.data?.source?.startsWith('angular')) return;\n\n        if (event.data?.type === 'oauth-response') {\n          window.removeEventListener('message', handleMessage);\n          clearInterval(popupClosedInterval);\n\n          if (this.loginType === 'online') {\n            const { accessToken, idToken } = event.data;\n            if (accessToken && idToken) {\n              const profile = this.parseJwt(idToken);\n              this.persistStateGoogle(accessToken.token, idToken);\n              resolve({\n                provider: 'google' as T,\n                result: {\n                  accessToken: {\n                    token: accessToken.token,\n                  },\n                  idToken,\n                  profile: {\n                    email: profile.email || null,\n                    familyName: profile.family_name || null,\n                    givenName: profile.given_name || null,\n                    id: profile.sub || null,\n                    name: profile.name || null,\n                    imageUrl: profile.picture || null,\n                  },\n                  responseType: 'online',\n                },\n              });\n            }\n          } else {\n            const { serverAuthCode } = event.data as {\n              serverAuthCode: string;\n            };\n            resolve({\n              provider: 'google' as T,\n              result: {\n                responseType: 'offline',\n                serverAuthCode,\n              },\n            });\n          }\n        }\n        // Don't reject for non-OAuth messages, just ignore them\n      };\n\n      window.addEventListener('message', handleMessage);\n\n      // Timeout after 5 minutes\n      timeoutHandle = setTimeout(() => {\n        clearTimeout(timeoutHandle);\n        window.removeEventListener('message', handleMessage);\n        popup.close();\n        reject(new Error('OAuth timeout'));\n      }, 300000);\n\n      popupClosedInterval = setInterval(() => {\n        if (popup.closed) {\n          clearInterval(popupClosedInterval);\n          reject(new Error('Popup closed'));\n        }\n      }, 1000);\n    });\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@capgo/capacitor-social-login/dist/esm/web.js","sources":["file:///www/wwwroot/pianosync.com/node_modules/%40capgo/capacitor-social-login/src/web.ts"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\n\nimport { AppleSocialLogin } from './apple-provider';\nimport type {\n  SocialLoginPlugin,\n  InitializeOptions,\n  LoginOptions,\n  AuthorizationCode,\n  AuthorizationCodeOptions,\n  isLoggedInOptions,\n  ProviderResponseMap,\n  FacebookLoginOptions,\n  ProviderSpecificCall,\n  ProviderSpecificCallOptionsMap,\n  ProviderSpecificCallResponseMap,\n} from './definitions';\nimport { FacebookSocialLogin } from './facebook-provider';\nimport { GoogleSocialLogin } from './google-provider';\n\nexport class SocialLoginWeb extends WebPlugin implements SocialLoginPlugin {\n  private static readonly OAUTH_STATE_KEY = 'social_login_oauth_pending';\n\n  private googleProvider: GoogleSocialLogin;\n  private appleProvider: AppleSocialLogin;\n  private facebookProvider: FacebookSocialLogin;\n\n  constructor() {\n    super();\n\n    this.googleProvider = new GoogleSocialLogin();\n    this.appleProvider = new AppleSocialLogin();\n    this.facebookProvider = new FacebookSocialLogin();\n\n    // Set up listener for OAuth redirects if we have a pending OAuth flow\n    if (localStorage.getItem(SocialLoginWeb.OAUTH_STATE_KEY)) {\n      console.log('OAUTH_STATE_KEY found');\n      const result = this.handleOAuthRedirect();\n      if (result) {\n        window.opener?.postMessage(\n          {\n            type: 'oauth-response',\n            ...result.result,\n          },\n          window.location.origin,\n        );\n        window.close();\n      }\n    }\n  }\n\n  private handleOAuthRedirect() {\n    const url = new URL(window.location.href);\n    return this.googleProvider.handleOAuthRedirect(url);\n  }\n\n  async initialize(options: InitializeOptions): Promise<void> {\n    const initPromises: Promise<void>[] = [];\n\n    if (options.google?.webClientId) {\n      initPromises.push(\n        this.googleProvider.initialize(\n          options.google.webClientId,\n          options.google.mode,\n          options.google.hostedDomain,\n          options.google.redirectUrl,\n        ),\n      );\n    }\n\n    if (options.apple?.clientId) {\n      initPromises.push(\n        this.appleProvider.initialize(\n          options.apple.clientId,\n          options.apple.redirectUrl,\n          options.apple.useProperTokenExchange,\n        ),\n      );\n    }\n\n    if (options.facebook?.appId) {\n      initPromises.push(this.facebookProvider.initialize(options.facebook.appId, options.facebook.locale));\n    }\n\n    await Promise.all(initPromises);\n  }\n\n  async login<T extends LoginOptions['provider']>(\n    options: Extract<LoginOptions, { provider: T }>,\n  ): Promise<{ provider: T; result: ProviderResponseMap[T] }> {\n    switch (options.provider) {\n      case 'google':\n        return this.googleProvider.login(options.options) as Promise<{ provider: T; result: ProviderResponseMap[T] }>;\n      case 'apple':\n        return this.appleProvider.login(options.options) as Promise<{ provider: T; result: ProviderResponseMap[T] }>;\n      case 'facebook':\n        return this.facebookProvider.login(options.options as FacebookLoginOptions) as Promise<{\n          provider: T;\n          result: ProviderResponseMap[T];\n        }>;\n      default:\n        throw new Error(`Login for ${options.provider} is not implemented on web`);\n    }\n  }\n\n  async logout(options: { provider: 'apple' | 'google' | 'facebook' }): Promise<void> {\n    switch (options.provider) {\n      case 'google':\n        return this.googleProvider.logout();\n      case 'apple':\n        return this.appleProvider.logout();\n      case 'facebook':\n        return this.facebookProvider.logout();\n      default:\n        throw new Error(`Logout for ${options.provider} is not implemented`);\n    }\n  }\n\n  async isLoggedIn(options: isLoggedInOptions): Promise<{ isLoggedIn: boolean }> {\n    switch (options.provider) {\n      case 'google':\n        return this.googleProvider.isLoggedIn();\n      case 'apple':\n        return this.appleProvider.isLoggedIn();\n      case 'facebook':\n        return this.facebookProvider.isLoggedIn();\n      default:\n        throw new Error(`isLoggedIn for ${options.provider} is not implemented`);\n    }\n  }\n\n  async getAuthorizationCode(options: AuthorizationCodeOptions): Promise<AuthorizationCode> {\n    switch (options.provider) {\n      case 'google':\n        return this.googleProvider.getAuthorizationCode();\n      case 'apple':\n        return this.appleProvider.getAuthorizationCode();\n      case 'facebook':\n        return this.facebookProvider.getAuthorizationCode();\n      default:\n        throw new Error(`getAuthorizationCode for ${options.provider} is not implemented`);\n    }\n  }\n\n  async refresh(options: LoginOptions): Promise<void> {\n    switch (options.provider) {\n      case 'google':\n        return this.googleProvider.refresh();\n      case 'apple':\n        return this.appleProvider.refresh();\n      case 'facebook':\n        return this.facebookProvider.refresh(options.options as FacebookLoginOptions);\n      default:\n        throw new Error(`Refresh for ${(options as any).provider} is not implemented`);\n    }\n  }\n\n  async providerSpecificCall<T extends ProviderSpecificCall>(options: {\n    call: T;\n    options: ProviderSpecificCallOptionsMap[T];\n  }): Promise<ProviderSpecificCallResponseMap[T]> {\n    throw new Error(`Provider specific call for ${options.call} is not implemented`);\n  }\n\n  async getPluginVersion(): Promise<{ version: string }> {\n    return { version: 'web' };\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}