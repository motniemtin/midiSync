{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/test/AlphaTabViewer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useEffect } from \"react\";\nimport { AlphaTabApi, Settings } from \"@coderline/alphatab\";\n\ninterface AlphaTabViewerProps {\n  xmlPath: string;\n  layoutMode?: 'page' | 'horizontal';\n  onScoreLoaded?: (score: any) => void;\n  onPlayerPositionChanged?: (e: any) => void;\n}\n\nexport const AlphaTabViewer = ({ xmlPath, onScoreLoaded, onPlayerPositionChanged, layoutMode = 'horizontal' }: AlphaTabViewerProps) => {\n  const elementRef = useRef<HTMLDivElement>(null);\n  const apiRef = useRef<AlphaTabApi | null>(null);\n  \n  useEffect(() => {\n    if (!elementRef.current || !xmlPath) return;\n\n    const settings: Settings = {\n      file: '/windy_hill.musicxml',\n      core: {\n        fontDirectory: '/alphatab/font/'\n      },\n      player: {\n        enablePlayer: true,\n        enableCursor: true,\n        soundFont: '/alphatab/soundfont/sonivox.sf2'\n      },\n      display: {\n        layoutMode: layoutMode\n      }\n    };\n\n    apiRef.current = new AlphaTabApi(elementRef.current, settings);\n\n    if (onScoreLoaded) {\n      apiRef.current.scoreLoaded.on(onScoreLoaded);\n    }\n    if (onPlayerPositionChanged) {\n      apiRef.current.playerPositionChanged.on(onPlayerPositionChanged);\n    }\n\n    // apiRef.current.load(xmlPath);\n\n    return () => {\n      apiRef.current?.destroy();\n    };\n  }, [xmlPath, onScoreLoaded, onPlayerPositionChanged]);\n\n  return <div ref={elementRef} style={{ width: '100%', height: '400px' }} />;\n};"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAYO,MAAM,iBAAiB,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,uBAAuB,EAAE,aAAa,YAAY,EAAuB;;IAChI,MAAM,aAAa,IAAA,uKAAM,EAAiB;IAC1C,MAAM,SAAS,IAAA,uKAAM,EAAqB;IAE1C,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,WAAW,OAAO,IAAI,CAAC,SAAS;YAErC,MAAM,WAAqB;gBACzB,MAAM;gBACN,MAAM;oBACJ,eAAe;gBACjB;gBACA,QAAQ;oBACN,cAAc;oBACd,cAAc;oBACd,WAAW;gBACb;gBACA,SAAS;oBACP,YAAY;gBACd;YACF;YAEA,OAAO,OAAO,GAAG,IAAI,sLAAW,CAAC,WAAW,OAAO,EAAE;YAErD,IAAI,eAAe;gBACjB,OAAO,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;YAChC;YACA,IAAI,yBAAyB;gBAC3B,OAAO,OAAO,CAAC,qBAAqB,CAAC,EAAE,CAAC;YAC1C;YAEA,gCAAgC;YAEhC;4CAAO;oBACL,OAAO,OAAO,EAAE;gBAClB;;QACF;mCAAG;QAAC;QAAS;QAAe;KAAwB;IAEpD,qBAAO,6LAAC;QAAI,KAAK;QAAY,OAAO;YAAE,OAAO;YAAQ,QAAQ;QAAQ;;;;;;AACvE;GAvCa;KAAA","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/components/container/PageContainer.tsx"],"sourcesContent":["import { Helmet, HelmetProvider } from 'react-helmet-async';\r\n\r\ntype Props = {\r\n  seo: {\r\n    title: string;\r\n    description: string;\r\n    keywords: string;\r\n    thumb: string;\r\n  };\r\n  children: JSX.Element | JSX.Element[];\r\n};\r\n\r\nconst PageContainer = ({ seo, children }: Props) => {\r\n  return (\r\n    <HelmetProvider>\r\n      <div>\r\n        <Helmet>\r\n          <title>{seo.title}</title>\r\n          {/* Description & Keywords */}\r\n          <meta name=\"description\" content={seo.description} />\r\n          <meta name=\"keywords\" content={seo.keywords} />\r\n\r\n          {/* Open Graph */}\r\n          <meta property=\"og:title\" content={seo.title} />\r\n          <meta property=\"og:description\" content={seo.description} />\r\n          <meta property=\"og:image\" content={seo.thumb} />\r\n          <meta property=\"og:type\" content=\"website\" />\r\n\r\n          {/* Twitter Card */}\r\n          <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n          <meta name=\"twitter:title\" content={seo.title} />\r\n          <meta name=\"twitter:description\" content={seo.description} />\r\n        </Helmet>\r\n        {children}\r\n      </div>\r\n    </HelmetProvider>\r\n  );\r\n}\r\n\r\nexport default PageContainer;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAYA,MAAM,gBAAgB,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAS;IAC7C,qBACE,6LAAC,uLAAc;kBACb,cAAA,6LAAC;;8BACC,6LAAC,+KAAM;;sCACL,6LAAC;sCAAO,IAAI,KAAK;;;;;;sCAEjB,6LAAC;4BAAK,MAAK;4BAAc,SAAS,IAAI,WAAW;;;;;;sCACjD,6LAAC;4BAAK,MAAK;4BAAW,SAAS,IAAI,QAAQ;;;;;;sCAG3C,6LAAC;4BAAK,UAAS;4BAAW,SAAS,IAAI,KAAK;;;;;;sCAC5C,6LAAC;4BAAK,UAAS;4BAAiB,SAAS,IAAI,WAAW;;;;;;sCACxD,6LAAC;4BAAK,UAAS;4BAAW,SAAS,IAAI,KAAK;;;;;;sCAC5C,6LAAC;4BAAK,UAAS;4BAAU,SAAQ;;;;;;sCAGjC,6LAAC;4BAAK,MAAK;4BAAe,SAAQ;;;;;;sCAClC,6LAAC;4BAAK,MAAK;4BAAgB,SAAS,IAAI,KAAK;;;;;;sCAC7C,6LAAC;4BAAK,MAAK;4BAAsB,SAAS,IAAI,WAAW;;;;;;;;;;;;gBAE1D;;;;;;;;;;;;AAIT;KAzBM;uCA2BS","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/layout/shared/breadcrumb/Breadcrumb.tsx"],"sourcesContent":["import React from \"react\";\r\nimport Box from '@mui/material/Box';\r\nimport Breadcrumbs from '@mui/material/Breadcrumbs';\r\nimport Grid from '@mui/material/Grid';\r\nimport { Theme } from '@mui/material/styles';\r\nimport Typography from '@mui/material/Typography';\r\nimport NextLink from \"next/link\";\r\n\r\nimport breadcrumbImg from \"public/images/breadcrumb/ChatBc.png\";\r\nimport { IconCircle } from \"@tabler/icons-react\";\r\nimport Image from \"next/image\";\r\n\r\ninterface BreadCrumbType {\r\n  subtitle?: string;\r\n  items?: any[];\r\n  title: string;\r\n  children?: JSX.Element;\r\n}\r\n\r\nconst Breadcrumb = ({ subtitle, items, title, children }: BreadCrumbType) => (\r\n  <Grid\r\n    container\r\n    sx={{\r\n      backgroundColor: \"primary.light\",\r\n      borderRadius: (theme: Theme) => theme.shape.borderRadius / 4,\r\n      p: \"10px 10px 10px\",\r\n      marginBottom: \"15px\",\r\n      position: \"relative\",\r\n      overflow: \"hidden\",\r\n    }}\r\n  >\r\n    <Grid item xs={12} sm={6} lg={8} mb={1}> \r\n      <Breadcrumbs\r\n        separator={\r\n          <IconCircle\r\n            size=\"5\"\r\n            fill=\"textSecondary\"\r\n            fillOpacity={\"0.6\"}\r\n            style={{ margin: \"0 5px\" }}\r\n          />\r\n        }\r\n        sx={{ alignItems: \"center\", mt: items ? \"10px\" : \"\" }}\r\n        aria-label=\"breadcrumb\"\r\n      >\r\n        {items\r\n          ? items.map((item) => (\r\n              <div key={item.title}>\r\n                {item.to ? (\r\n                  <NextLink href={item.to} passHref>\r\n                    <Typography color=\"textSecondary\">{item.title}</Typography>\r\n                  </NextLink>\r\n                ) : (\r\n                  <Typography color=\"textPrimary\">{item.title}</Typography>\r\n                )}\r\n              </div>\r\n            ))\r\n          : \"\"}\r\n      </Breadcrumbs>\r\n    </Grid>\r\n  </Grid>\r\n);\r\n\r\nexport default Breadcrumb;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AAGA;;;;;;;AAUA,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAkB,iBACtE,6LAAC,+JAAI;QACH,SAAS;QACT,IAAI;YACF,iBAAiB;YACjB,cAAc,CAAC,QAAiB,MAAM,KAAK,CAAC,YAAY,GAAG;YAC3D,GAAG;YACH,cAAc;YACd,UAAU;YACV,UAAU;QACZ;kBAEA,cAAA,6LAAC,+JAAI;YAAC,IAAI;YAAC,IAAI;YAAI,IAAI;YAAG,IAAI;YAAG,IAAI;sBACnC,cAAA,6LAAC,6KAAW;gBACV,yBACE,6LAAC,0OAAU;oBACT,MAAK;oBACL,MAAK;oBACL,aAAa;oBACb,OAAO;wBAAE,QAAQ;oBAAQ;;;;;;gBAG7B,IAAI;oBAAE,YAAY;oBAAU,IAAI,QAAQ,SAAS;gBAAG;gBACpD,cAAW;0BAEV,QACG,MAAM,GAAG,CAAC,CAAC,qBACT,6LAAC;kCACE,KAAK,EAAE,iBACN,6LAAC,0KAAQ;4BAAC,MAAM,KAAK,EAAE;4BAAE,QAAQ;sCAC/B,cAAA,6LAAC,2KAAU;gCAAC,OAAM;0CAAiB,KAAK,KAAK;;;;;;;;;;qFAG/C,6LAAC,2KAAU;4BAAC,OAAM;sCAAe,KAAK,KAAK;;;;;;uBANrC,KAAK,KAAK;;;;oEAUtB;;;;;;;;;;;;;;;;KArCN;uCA2CS","debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/test/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTranslation } from 'react-i18next';\nimport { useState, useCallback } from 'react';\nimport { AlphaTabViewer } from './AlphaTabViewer';\nimport PageContainer from '@/app/(DashboardLayout)/components/container/PageContainer';\nimport Breadcrumb from '@/app/(DashboardLayout)/layout/shared/breadcrumb/Breadcrumb';\nimport Box from '@mui/material/Box';\nimport './player.css';\n\nexport default function Test() {\n    const { t } = useTranslation();\n    const [score, setScore] = useState(null);\n    const [notesJson, setNotesJson] = useState(null);\n\n    // Thay thế bằng đường dẫn thực tế đến file xml của bạn\n    const xmlPath = \"/windy_hill.musicxml\";\n\n    const handleScoreLoaded = useCallback((loadedScore: any) => {\n        setScore(loadedScore);\n        try {\n            const _notesJson: any = {};\n            const track = loadedScore.tracks[0];\n            let _tempo = 120;\n            let _currentTime = 0;\n\n            track.staves.forEach((stave: any) => {\n                stave.bars.forEach((bar: any) => {\n                    if (loadedScore.masterBars[bar.index].tempoAutomation) {\n                        _tempo = loadedScore.masterBars[bar.index].tempoAutomation.value;\n                    }\n                    bar.voices.forEach((voice: any) => {\n                        voice.beats.forEach((beat: any) => {\n                            const _duration = ((beat.playbackDuration * (60000.0 / (_tempo * 960))) | 0) / 1000;\n                            beat.notes.forEach((note: any) => {\n                                if (typeof _notesJson[note.displayValue] === \"undefined\") {\n                                    _notesJson[note.displayValue] = [];\n                                }\n                                _notesJson[note.displayValue].push({ start: _currentTime, stop: _currentTime + _duration, fret: note.fret, string: note.string });\n                            });\n                            _currentTime += _duration;\n                        });\n                    });\n                });\n            });\n            setNotesJson(_notesJson);\n            console.log(\"Notes JSON created:\", _notesJson);\n        } catch (e) {\n            console.error(\"Error processing score:\", e);\n        }\n    }, []);\n\n    const handlePlayerPositionChanged = useCallback((e: any) => {\n        // Xử lý khi vị trí player thay đổi, ví dụ: console.log(e.currentTime);\n    }, []);\n\n    return (\n        <PageContainer\n            seo={{\n                title: song ? song.title : t('SONGPAGE_TITLE'),\n                description: song ? song.description : t('SONGPAGE_DESCRIPTION'),\n                keywords: song ? `${song.title}, ${song.artist}, piano, midi` : t('SONGPAGE_KEYWORDS'),\n                thumb: song ? song.thumb : \"\"\n            }}\n        >\n            <Breadcrumb title={song ? song.title : t('SONG_BREADCUMB')} items={BCrumb} />\n            <Box>\n                <AlphaTabViewer\n                    xmlPath={xmlPath}\n                    onScoreLoaded={handleScoreLoaded}\n                    onPlayerPositionChanged={handlePlayerPositionChanged}\n                    layoutMode='horizontal'\n                />\n            </Box>\n        </PageContainer>\n    );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;;AAUe,SAAS;;IACpB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,qLAAc;IAC5B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,uDAAuD;IACvD,MAAM,UAAU;IAEhB,MAAM,oBAAoB,IAAA,4KAAW;+CAAC,CAAC;YACnC,SAAS;YACT,IAAI;gBACA,MAAM,aAAkB,CAAC;gBACzB,MAAM,QAAQ,YAAY,MAAM,CAAC,EAAE;gBACnC,IAAI,SAAS;gBACb,IAAI,eAAe;gBAEnB,MAAM,MAAM,CAAC,OAAO;2DAAC,CAAC;wBAClB,MAAM,IAAI,CAAC,OAAO;mEAAC,CAAC;gCAChB,IAAI,YAAY,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,eAAe,EAAE;oCACnD,SAAS,YAAY,UAAU,CAAC,IAAI,KAAK,CAAC,CAAC,eAAe,CAAC,KAAK;gCACpE;gCACA,IAAI,MAAM,CAAC,OAAO;2EAAC,CAAC;wCAChB,MAAM,KAAK,CAAC,OAAO;mFAAC,CAAC;gDACjB,MAAM,YAAY,CAAC,AAAC,KAAK,gBAAgB,GAAG,CAAC,UAAU,CAAC,SAAS,GAAG,CAAC,IAAK,CAAC,IAAI;gDAC/E,KAAK,KAAK,CAAC,OAAO;2FAAC,CAAC;wDAChB,IAAI,OAAO,UAAU,CAAC,KAAK,YAAY,CAAC,KAAK,aAAa;4DACtD,UAAU,CAAC,KAAK,YAAY,CAAC,GAAG,EAAE;wDACtC;wDACA,UAAU,CAAC,KAAK,YAAY,CAAC,CAAC,IAAI,CAAC;4DAAE,OAAO;4DAAc,MAAM,eAAe;4DAAW,MAAM,KAAK,IAAI;4DAAE,QAAQ,KAAK,MAAM;wDAAC;oDACnI;;gDACA,gBAAgB;4CACpB;;oCACJ;;4BACJ;;oBACJ;;gBACA,aAAa;gBACb,QAAQ,GAAG,CAAC,uBAAuB;YACvC,EAAE,OAAO,GAAG;gBACR,QAAQ,KAAK,CAAC,2BAA2B;YAC7C;QACJ;8CAAG,EAAE;IAEL,MAAM,8BAA8B,IAAA,4KAAW;yDAAC,CAAC;QAC7C,uEAAuE;QAC3E;wDAAG,EAAE;IAEL,qBACI,6LAAC,4LAAa;QACV,KAAK;YACD,OAAO,OAAO,KAAK,KAAK,GAAG,EAAE;YAC7B,aAAa,OAAO,KAAK,WAAW,GAAG,EAAE;YACzC,UAAU,OAAO,GAAG,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,MAAM,CAAC,aAAa,CAAC,GAAG,EAAE;YAClE,OAAO,OAAO,KAAK,KAAK,GAAG;QAC/B;;0BAEA,6LAAC,gMAAU;gBAAC,OAAO,OAAO,KAAK,KAAK,GAAG,EAAE;gBAAmB,OAAO;;;;;;0BACnE,6LAAC,6JAAG;0BACA,cAAA,6LAAC,iLAAc;oBACX,SAAS;oBACT,eAAe;oBACf,yBAAyB;oBACzB,YAAW;;;;;;;;;;;;;;;;;AAK/B;GAlEwB;;QACN,qLAAc;;;KADR","debugId":null}}]
}