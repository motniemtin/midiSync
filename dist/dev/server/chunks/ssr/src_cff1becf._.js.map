{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/components/container/PageContainer.tsx"],"sourcesContent":["import { Helmet, HelmetProvider } from 'react-helmet-async';\r\n\r\ntype Props = {\r\n  seo: {\r\n    title: string;\r\n    description: string;\r\n    keywords: string;\r\n    thumb: string;\r\n  };\r\n  children: JSX.Element | JSX.Element[];\r\n};\r\n\r\nconst PageContainer = ({ seo, children }: Props) => {\r\n  return (\r\n    <HelmetProvider>\r\n      <div>\r\n        <Helmet>\r\n          <title>{seo.title}</title>\r\n          {/* Description & Keywords */}\r\n          <meta name=\"description\" content={seo.description} />\r\n          <meta name=\"keywords\" content={seo.keywords} />\r\n\r\n          {/* Open Graph */}\r\n          <meta property=\"og:title\" content={seo.title} />\r\n          <meta property=\"og:description\" content={seo.description} />\r\n          <meta property=\"og:image\" content={seo.thumb} />\r\n          <meta property=\"og:type\" content=\"website\" />\r\n\r\n          {/* Twitter Card */}\r\n          <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n          <meta name=\"twitter:title\" content={seo.title} />\r\n          <meta name=\"twitter:description\" content={seo.description} />\r\n        </Helmet>\r\n        {children}\r\n      </div>\r\n    </HelmetProvider>\r\n  );\r\n}\r\n\r\nexport default PageContainer;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAYA,MAAM,gBAAgB,CAAC,EAAE,GAAG,EAAE,QAAQ,EAAS;IAC7C,qBACE,8OAAC,oLAAc;kBACb,cAAA,8OAAC;;8BACC,8OAAC,4KAAM;;sCACL,8OAAC;sCAAO,IAAI,KAAK;;;;;;sCAEjB,8OAAC;4BAAK,MAAK;4BAAc,SAAS,IAAI,WAAW;;;;;;sCACjD,8OAAC;4BAAK,MAAK;4BAAW,SAAS,IAAI,QAAQ;;;;;;sCAG3C,8OAAC;4BAAK,UAAS;4BAAW,SAAS,IAAI,KAAK;;;;;;sCAC5C,8OAAC;4BAAK,UAAS;4BAAiB,SAAS,IAAI,WAAW;;;;;;sCACxD,8OAAC;4BAAK,UAAS;4BAAW,SAAS,IAAI,KAAK;;;;;;sCAC5C,8OAAC;4BAAK,UAAS;4BAAU,SAAQ;;;;;;sCAGjC,8OAAC;4BAAK,MAAK;4BAAe,SAAQ;;;;;;sCAClC,8OAAC;4BAAK,MAAK;4BAAgB,SAAS,IAAI,KAAK;;;;;;sCAC7C,8OAAC;4BAAK,MAAK;4BAAsB,SAAS,IAAI,WAAW;;;;;;;;;;;;gBAE1D;;;;;;;;;;;;AAIT;uCAEe","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/components/forms/theme-elements/CustomSocialButton.tsx"],"sourcesContent":["import React from 'react';\r\nimport { styled }  from \"@mui/system\";\r\nimport { Button } from '@mui/material';\r\n\r\nconst CustomSocialButton = styled((props: any) => (\r\n  <Button variant=\"outlined\" size=\"large\" color=\"inherit\" {...props} />\r\n))(({ theme }) => ({\r\n  border: `1px solid ${theme.palette.divider}`,\r\n\r\n  '&:hover': {\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nexport default CustomSocialButton;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,MAAM,qBAAqB,IAAA,+LAAM,EAAC,CAAC,sBACjC,8OAAC,oMAAM;QAAC,SAAQ;QAAW,MAAK;QAAQ,OAAM;QAAW,GAAG,KAAK;;;;;kDAChE,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC;QACjB,QAAQ,CAAC,UAAU,EAAE,MAAM,OAAO,CAAC,OAAO,EAAE;QAE5C,WAAW;YACT,OAAO,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI;QACnC;IACF,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/utils/showToast.ts"],"sourcesContent":["import { Capacitor } from '@capacitor/core';\nimport { Toast } from '@capacitor/toast';\nimport { toast } from 'react-toastify';\n\n/**\n * Hiển thị Toast trên Android/iOS, hoặc fallback alert/console trên web.\n */\nexport async function showToast(message: string, type: 'success' | 'error' | 'info' = 'info') {\n  if (Capacitor.getPlatform() === 'web') {\n    // Khi test trong Next.js (localhost, trình duyệt)\n    switch (type) {\n      case 'success':\n        await toast.success(message);\n        break;\n      case 'error':\n        await toast.error(message);\n        break;\n      default:\n        await toast.info(message);\n    }\n  } else {\n    // Khi chạy trên thiết bị thật (Android/iOS)\n    await Toast.show({ text: message });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAKO,eAAe,UAAU,OAAe,EAAE,OAAqC,MAAM;IAC1F,IAAI,iKAAS,CAAC,WAAW,OAAO,OAAO;QACrC,kDAAkD;QAClD,OAAQ;YACN,KAAK;gBACH,MAAM,4JAAK,CAAC,OAAO,CAAC;gBACpB;YACF,KAAK;gBACH,MAAM,4JAAK,CAAC,KAAK,CAAC;gBAClB;YACF;gBACE,MAAM,4JAAK,CAAC,IAAI,CAAC;QACrB;IACF,OAAO;QACL,4CAA4C;QAC5C,MAAM,qLAAK,CAAC,IAAI,CAAC;YAAE,MAAM;QAAQ;IACnC;AACF","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/user/AuthSocialButtons.tsx"],"sourcesContent":["\"use client\";\r\nimport CustomSocialButton from \"@/app/(DashboardLayout)/components/forms/theme-elements/CustomSocialButton\";\r\nimport { Stack } from \"@mui/system\";\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Box from '@mui/material/Box'; \r\nimport { signInType } from \"@/app/(DashboardLayout)/types/auth/auth\";\r\nimport { SocialLogin } from \"@capgo/capacitor-social-login\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { showToast } from '@/utils/showToast';\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\nimport { GoogleOAuthProvider } from '@react-oauth/google';\r\nimport { GoogleLogin, CredentialResponse } from '@react-oauth/google';\r\nimport { Capacitor } from \"@capacitor/core\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nconst AuthSocialButtons = ({ title }: signInType) => {\r\n  const { t } = useTranslation();\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const [isWeb, setIsWeb] = useState(false);\r\n  useEffect(() => {\r\n    setIsWeb(Capacitor.getPlatform() === 'web');\r\n    SocialLogin.initialize({\r\n      google: {\r\n        webClientId: '271408278055-aq099jsihpd8j12r3tngrvijsvi7odfq.apps.googleusercontent.com',\r\n        iOSServerClientId: '271408278055-aq099jsihpd8j12r3tngrvijsvi7odfq.apps.googleusercontent.com',\r\n        mode: 'online',  // 'online' or 'offline'\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleLoginSuccess = async (loginData: any) => {\r\n    const response = await fetch(\"https://server.pianosync.com/user/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(loginData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      await showToast(t('LOGIN_FAIL'), 'error');\r\n      return;\r\n    }\r\n\r\n    const jsonLogin = await response.json();\r\n    queryClient.setQueryData([\"user\", \"login\"], jsonLogin.user);\r\n    localStorage.setItem(\"token\", jsonLogin.token);\r\n    await showToast(t('LOGIN_SUCCESS'), 'success');\r\n    queryClient.refetchQueries({\r\n      type: 'all', // bao gồm cả inactive queries\r\n    });\r\n    if (window.history.length > 1) {\r\n      router.back();\r\n    } else {\r\n      router.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleGoogleWebLogin = async (credentialResponse: CredentialResponse) => {\r\n    if (!credentialResponse.credential) {\r\n      await showToast(t('LOGIN_FAIL'), 'error');\r\n      return;\r\n    }\r\n    const decoded =  await jwtDecode(credentialResponse.credential);\r\n    const loginPayload = {\r\n      ...decoded,\r\n      idToken: credentialResponse.credential,\r\n    };\r\n    await handleLoginSuccess({\r\n      provider: \"google\",\r\n      result: loginPayload,\r\n    });\r\n  };\r\n\r\n  const signIn = async () => {\r\n    try {\r\n      const userGoogle = await SocialLogin.login({\r\n        provider: 'google',\r\n        options: {\r\n          scopes: ['email', 'profile'],\r\n        }\r\n      });\r\n      if (!userGoogle.result) {\r\n        await showToast(t('LOGIN_FAIL'), 'error');\r\n        return;\r\n      }\r\n      await handleLoginSuccess({\r\n        provider: \"google\",\r\n        result: userGoogle.result,\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Sign-in error:\", error);\r\n      await showToast(t('LOGIN_FAIL'), 'error');\r\n    }\r\n  };\r\n  return (\r\n    <GoogleOAuthProvider clientId=\"271408278055-aq099jsihpd8j12r3tngrvijsvi7odfq.apps.googleusercontent.com\"> \r\n      <Stack direction=\"row\" justifyContent=\"center\" spacing={2} mt={3}>\r\n        {isWeb ? (\r\n          <GoogleLogin\r\n            onSuccess={handleGoogleWebLogin}\r\n            onError={() => {\r\n              showToast(t('LOGIN_FAIL'), 'error');\r\n            }}\r\n          />\r\n        ) : (\r\n          <CustomSocialButton onClick={signIn}>\r\n            <Avatar\r\n              src={\"/images/svgs/google-icon.svg\"}\r\n              alt={\"icon1\"}\r\n              sx={{\r\n                width: 16,\r\n                height: 16,\r\n                borderRadius: 0,\r\n                mr: 1,\r\n              }}\r\n            />\r\n            <Box\r\n              sx={{\r\n                display: { xs: \"none\", sm: \"flex\" },\r\n                whiteSpace: \"nowrap\",\r\n                mr: { sm: \"3px\" },\r\n              }}\r\n            >\r\n              {title}{\" \"}\r\n            </Box>{\" \"}\r\n            Google\r\n          </CustomSocialButton>\r\n        )}\r\n        <CustomSocialButton onClick={signIn}>\r\n          <Avatar\r\n            src={\"/images/svgs/apple-icon.svg\"}\r\n            alt={\"icon1\"}\r\n            sx={{\r\n              width: 16,\r\n              height: 16,\r\n              borderRadius: 0,\r\n              mr: 1,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: { xs: \"none\", sm: \"flex\" },\r\n              whiteSpace: \"nowrap\",\r\n              mr: { sm: \"3px\" },\r\n            }}\r\n          >\r\n            {title}{\" \"}\r\n          </Box>{\" \"}\r\n          Apple\r\n        </CustomSocialButton>\r\n      </Stack>\r\n    </GoogleOAuthProvider>\r\n  );\r\n}\r\nexport default AuthSocialButtons;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAfA;;;;;;;;;;;;;;;;AAiBA,MAAM,oBAAoB,CAAC,EAAE,KAAK,EAAc;IAC9C,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAC5B,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,cAAc,IAAA,wMAAc;IAClC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,IAAA,kNAAS,EAAC;QACR,SAAS,iKAAS,CAAC,WAAW,OAAO;QACrC,8MAAW,CAAC,UAAU,CAAC;YACrB,QAAQ;gBACN,aAAa;gBACb,mBAAmB;gBACnB,MAAM;YACR;QACF;IACF,GAAG,EAAE;IAEL,MAAM,qBAAqB,OAAO;QAChC,MAAM,WAAW,MAAM,MAAM,2CAA2C;YACtE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAA,sIAAS,EAAC,EAAE,eAAe;YACjC;QACF;QAEA,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,YAAY,YAAY,CAAC;YAAC;YAAQ;SAAQ,EAAE,UAAU,IAAI;QAC1D,aAAa,OAAO,CAAC,SAAS,UAAU,KAAK;QAC7C,MAAM,IAAA,sIAAS,EAAC,EAAE,kBAAkB;QACpC,YAAY,cAAc,CAAC;YACzB,MAAM;QACR;QACA,IAAI,OAAO,OAAO,CAAC,MAAM,GAAG,GAAG;YAC7B,OAAO,IAAI;QACb,OAAO;YACL,OAAO,IAAI,CAAC;QACd;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,IAAI,CAAC,mBAAmB,UAAU,EAAE;YAClC,MAAM,IAAA,sIAAS,EAAC,EAAE,eAAe;YACjC;QACF;QACA,MAAM,UAAW,MAAM,IAAA,mKAAS,EAAC,mBAAmB,UAAU;QAC9D,MAAM,eAAe;YACnB,GAAG,OAAO;YACV,SAAS,mBAAmB,UAAU;QACxC;QACA,MAAM,mBAAmB;YACvB,UAAU;YACV,QAAQ;QACV;IACF;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,aAAa,MAAM,8MAAW,CAAC,KAAK,CAAC;gBACzC,UAAU;gBACV,SAAS;oBACP,QAAQ;wBAAC;wBAAS;qBAAU;gBAC9B;YACF;YACA,IAAI,CAAC,WAAW,MAAM,EAAE;gBACtB,MAAM,IAAA,sIAAS,EAAC,EAAE,eAAe;gBACjC;YACF;YACA,MAAM,mBAAmB;gBACvB,UAAU;gBACV,QAAQ,WAAW,MAAM;YAC3B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,MAAM,IAAA,sIAAS,EAAC,EAAE,eAAe;QACnC;IACF;IACA,qBACE,8OAAC,yLAAmB;QAAC,UAAS;kBAC5B,cAAA,8OAAC,qMAAK;YAAC,WAAU;YAAM,gBAAe;YAAS,SAAS;YAAG,IAAI;;gBAC5D,sBACC,8OAAC,iLAAW;oBACV,WAAW;oBACX,SAAS;wBACP,IAAA,sIAAS,EAAC,EAAE,eAAe;oBAC7B;;;;;6EAGF,8OAAC,+MAAkB;oBAAC,SAAS;;sCAC3B,8OAAC,gKAAM;4BACL,KAAK;4BACL,KAAK;4BACL,IAAI;gCACF,OAAO;gCACP,QAAQ;gCACR,cAAc;gCACd,IAAI;4BACN;;;;;;sCAEF,8OAAC,0JAAG;4BACF,IAAI;gCACF,SAAS;oCAAE,IAAI;oCAAQ,IAAI;gCAAO;gCAClC,YAAY;gCACZ,IAAI;oCAAE,IAAI;gCAAM;4BAClB;;gCAEC;gCAAO;;;;;;;wBACH;wBAAI;;;;;;;8BAIf,8OAAC,+MAAkB;oBAAC,SAAS;;sCAC3B,8OAAC,gKAAM;4BACL,KAAK;4BACL,KAAK;4BACL,IAAI;gCACF,OAAO;gCACP,QAAQ;gCACR,cAAc;gCACd,IAAI;4BACN;;;;;;sCAEF,8OAAC,0JAAG;4BACF,IAAI;gCACF,SAAS;oCAAE,IAAI;oCAAQ,IAAI;gCAAO;gCAClC,YAAY;gCACZ,IAAI;oCAAE,IAAI;gCAAM;4BAClB;;gCAEC;gCAAO;;;;;;;wBACH;wBAAI;;;;;;;;;;;;;;;;;;AAMrB;uCACe","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///www/wwwroot/pianosync.com/src/app/%28DashboardLayout%29/user/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport Box from '@mui/material/Box';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport PageContainer from '@/app/(DashboardLayout)/components/container/PageContainer';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Card } from \"@mui/material\";\r\nimport AuthSocialButtons from '@/app/(DashboardLayout)/user/AuthSocialButtons';\r\nimport Image from 'next/image';\r\n\r\nexport default function Login() {\r\n  const { t } = useTranslation();  \r\n  return (\r\n    <PageContainer seo={{\r\n      title: t('LOGINPAGE_TITLE'),\r\n      description: t('LOGINPAGE_DESCRIPTION'),\r\n      keywords: t('LOGINPAGE_KEYWORDS'),\r\n      thumb: \"\"\r\n    }}>\r\n      <Box\r\n        sx={{\r\n          position: 'relative',\r\n          '&:before': {\r\n            content: '\"\"',\r\n            background: 'radial-gradient(#d2f1df, #d3d7fa, #bad8f4)',\r\n            backgroundSize: '400% 400%',\r\n            animation: 'gradient 15s ease infinite',\r\n            position: 'absolute',\r\n            height: '100%',\r\n            width: '100%',\r\n            opacity: '0.3',\r\n          },\r\n        }}\r\n      >\r\n        <Grid container spacing={0} justifyContent=\"center\" sx={{ height: '100vh' }}>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            sm={12}\r\n            lg={5}\r\n            xl={4}\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Card elevation={9} sx={{ p: 4, zIndex: 1, width: '100%', maxWidth: '550px' }}>              \r\n              <Box mt={3} display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n                <Typography fontWeight=\"700\" variant=\"h3\" mb={1}>\r\n                  {t('LOGIN_TITLE')}\r\n                </Typography>\r\n              </Box>\r\n              <AuthSocialButtons/>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </PageContainer>\r\n  )\r\n};\r\n\r\nLogin.layout = \"RootLayout\";\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAPA;;;;;;;;;AAUe,SAAS;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kLAAc;IAC5B,qBACE,8OAAC,yLAAa;QAAC,KAAK;YAClB,OAAO,EAAE;YACT,aAAa,EAAE;YACf,UAAU,EAAE;YACZ,OAAO;QACT;kBACE,cAAA,8OAAC,0JAAG;YACF,IAAI;gBACF,UAAU;gBACV,YAAY;oBACV,SAAS;oBACT,YAAY;oBACZ,gBAAgB;oBAChB,WAAW;oBACX,UAAU;oBACV,QAAQ;oBACR,OAAO;oBACP,SAAS;gBACX;YACF;sBAEA,cAAA,8OAAC,4JAAI;gBAAC,SAAS;gBAAC,SAAS;gBAAG,gBAAe;gBAAS,IAAI;oBAAE,QAAQ;gBAAQ;0BACxE,cAAA,8OAAC,4JAAI;oBACH,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,IAAI;oBACJ,SAAQ;oBACR,gBAAe;oBACf,YAAW;8BAEX,cAAA,8OAAC,4LAAI;wBAAC,WAAW;wBAAG,IAAI;4BAAE,GAAG;4BAAG,QAAQ;4BAAG,OAAO;4BAAQ,UAAU;wBAAQ;;0CAC1E,8OAAC,0JAAG;gCAAC,IAAI;gCAAG,SAAQ;gCAAO,YAAW;gCAAS,gBAAe;0CAC5D,cAAA,8OAAC,wKAAU;oCAAC,YAAW;oCAAM,SAAQ;oCAAK,IAAI;8CAC3C,EAAE;;;;;;;;;;;0CAGP,8OAAC,0KAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhC;AAEA,MAAM,MAAM,GAAG","debugId":null}}]
}