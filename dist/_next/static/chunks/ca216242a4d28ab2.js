(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82568,e=>{"use strict";var t,n,i,a;let r,s,o,c,l,d;(n=t||(t={})).Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE";class u extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}let h=(r=(a=i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g).CapacitorCustomPlatform||null,o=(s=a.Capacitor||{}).Plugins=s.Plugins||{},c=()=>{var e,t;return null!==r?r.name:(null==a?void 0:a.androidBridge)?"android":(null==(t=null==(e=null==a?void 0:a.webkit)?void 0:e.messageHandlers)?void 0:t.bridge)?"ios":"web"},l=e=>{var t;return null==(t=s.PluginHeaders)?void 0:t.find(t=>t.name===e)},d=new Map,s.convertFileSrc||(s.convertFileSrc=e=>e),s.getPlatform=c,s.handleError=e=>a.console.error(e),s.isNativePlatform=()=>"web"!==c(),s.isPluginAvailable=e=>{let t=d.get(e);return!!((null==t?void 0:t.platforms.has(c()))||l(e))},s.registerPlugin=(e,n={})=>{let i,a=d.get(e);if(a)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),a.proxy;let h=c(),f=l(e),w=async()=>(!i&&h in n?i=i="function"==typeof n[h]?await n[h]():n[h]:null!==r&&!i&&"web"in n&&(i=i="function"==typeof n.web?await n.web():n.web),i),v=n=>{let i,a=(...a)=>{let r=w().then(r=>{let o=((n,i)=>{var a,r;if(f){let t=null==f?void 0:f.methods.find(e=>i===e.name);if(t)if("promise"===t.rtype)return t=>s.nativePromise(e,i.toString(),t);else return(t,n)=>s.nativeCallback(e,i.toString(),t,n);if(n)return null==(a=n[i])?void 0:a.bind(n)}else if(n)return null==(r=n[i])?void 0:r.bind(n);else throw new u(`"${e}" plugin is not implemented on ${h}`,t.Unimplemented)})(r,n);if(o){let e=o(...a);return i=null==e?void 0:e.remove,e}throw new u(`"${e}.${n}()" is not implemented on ${h}`,t.Unimplemented)});return"addListener"===n&&(r.remove=async()=>i()),r};return a.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(a,"name",{value:n,writable:!1,configurable:!1}),a},p=v("addListener"),g=v("removeListener"),y=(e,t)=>{let n=p({eventName:e},t),i=async()=>{g({eventName:e,callbackId:await n},t)},a=new Promise(e=>n.then(()=>e({remove:i})));return a.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()},a},m=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return f?y:p;case"removeListener":return g;default:return v(t)}}});return o[e]=m,d.set(e,{name:e,proxy:m,platforms:new Set([...Object.keys(n),...f?[h]:[]])}),m},s.Exception=u,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,i.Capacitor=s),f=h.registerPlugin;class w{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);let i=this.windowListeners[e];return i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){for(let e in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){let i=this.listeners[e];if(!i){if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}return}i.forEach(e=>e(t))}hasListeners(e){var t;return!!(null==(t=this.listeners[e])?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new h.Exception(e,t.Unimplemented)}unavailable(e="not available"){return new h.Exception(e,t.Unavailable)}async removeListener(e,t){let n=this.listeners[e];if(!n)return;let i=n.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}let v=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class p extends w{async getCookies(){let e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,i]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent).trim(),i=i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent).trim(),t[n]=i}),t}async setCookie(e){try{let t=v(e.key),n=v(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),r=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${i}; path=${a}; ${r};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{for(let e of document.cookie.split(";")||[])document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}f("CapacitorCookies",{web:()=>new p});let g=async e=>new Promise((t,n)=>{let i=new FileReader;i.onload=()=>{let e=i.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},i.onerror=e=>n(e),i.readAsDataURL(e)});class y extends w{async request(e){let t,n,i=((e,t={})=>{let n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=((e={})=>{let t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,i,a)=>(n[i]=e[t[a]],n),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){let t=new URLSearchParams;for(let[n,i]of Object.entries(e.data||{}))t.set(n,i);n.body=t.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){let t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(let n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;let i=new Headers(n.headers);i.delete("content-type"),n.headers=i}else(i.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n})(e,e.webFetchExtra),a=((e,t=!0)=>e?Object.entries(e).reduce((e,n)=>{let i,a,[r,s]=n;return Array.isArray(s)?(a="",s.forEach(e=>{i=t?encodeURIComponent(e):e,a+=`${r}=${i}&`}),a.slice(0,-1)):(i=t?encodeURIComponent(s):s,a=`${r}=${i}`),`${e}&${a}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),r=a?`${e.url}?${a}`:e.url,s=await fetch(r,i),o=s.headers.get("content-type")||"",{responseType:c="text"}=s.ok?e:{};switch(o.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":n=await s.blob(),t=await g(n);break;case"json":t=await s.json();break;default:t=await s.text()}let l={};return s.headers.forEach((e,t)=>{l[t]=e}),{data:t,headers:l,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}f("CapacitorHttp",{web:()=>new y}),e.s(["Capacitor",()=>h,"WebPlugin",()=>w,"registerPlugin",()=>f])},87900,e=>{"use strict";function t(e){let t=[],n,i,a=0;for(n=0;n<e.length;n++)((i=e.charCodeAt(n))>47&&i<58||i>64&&i<71||i>96&&i<103)&&(a=a<<4^(i>64?i+9:i)&15,t.push(255&a));return new DataView(Uint8Array.from(t).buffer)}function n(e){return Array.from(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).map(e=>{let t=e.toString(16);return 1==t.length&&(t="0"+t),t}).join("")}function i(e){if("string"==typeof e)return e;if("number"==typeof e)return`0000${e.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`;throw Error("Invalid UUID")}function a(e){let t={};if(e)return e.forEach((e,n)=>{t[n.toString()]=e}),t}e.s(["dataViewToHexString",()=>n,"hexStringToDataView",()=>t,"mapToObject",()=>a,"webUUIDToString",()=>i])},67585,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let i=e.r(32061);function a({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new i.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,n)=>{"use strict";function i(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"encodeURIPath",{enumerable:!0,get:function(){return i}})},52157,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadChunks",{enumerable:!0,get:function(){return o}});let i=e.r(43476),a=e.r(74080),r=e.r(63599),s=e.r(9885);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let t=r.workAsyncStorage.getStore();if(void 0===t)return null;let n=[];if(t.reactLoadableManifest&&e){let i=t.reactLoadableManifest;for(let t of e){if(!i[t])continue;let e=i[t].files;n.push(...e)}}return 0===n.length?null:(0,i.jsx)(i.Fragment,{children:n.map(e=>{let n=`${t.assetPrefix}/_next/${(0,s.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,i.jsx)("link",{precedence:"dynamic",href:n,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,a.preload)(n,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});let i=e.r(43476),a=e.r(71645),r=e.r(67585),s=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let c={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},l=function(e){let t={...c,...e},n=(0,a.lazy)(()=>t.loader().then(o)),l=t.loading;function d(e){let o=l?(0,i.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,c=!t.ssr||!!t.loading,d=c?a.Suspense:a.Fragment,u=t.ssr?(0,i.jsxs)(i.Fragment,{children:["undefined"==typeof window?(0,i.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,i.jsx)(n,{...e})]}):(0,i.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(n,{...e})});return(0,i.jsx)(d,{...c?{fallback:o}:{},children:u})}return d.displayName="LoadableComponent",d}},70703,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});let i=e.r(55682)._(e.r(69093));function a(e,t){let n={};"function"==typeof e&&(n.loader=e);let a={...n,...t};return(0,i.default)({...a,modules:a.loadableGenerated?.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},9434,e=>{"use strict";var t,n,i,a,r=e.i(43476),s=e.i(71645),o=e.i(82568);(t=i||(i={}))[t.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",t[t.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",t[t.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY",(n=a||(a={}))[n.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",n[n.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",n[n.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER";var c=e.i(87900);let l=(0,o.registerPlugin)("BluetoothLe",{web:()=>e.A(2250).then(e=>new e.BluetoothLeWeb)});function d(e){if(e){let e;return e=Promise.resolve(),t=>new Promise((n,i)=>{e=e.then(()=>t()).then(n).catch(i)})}return e=>e()}function u(e){if("string"!=typeof e)throw Error(`Invalid UUID type ${typeof e}. Expected string.`);if(!((e=e.toLowerCase()).search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw Error(`Invalid UUID format ${e}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return e}let h=new class{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=d(!0)}enableQueue(){this.queue=d(!0)}disableQueue(){this.queue=d(!1)}async initialize(e){await this.queue(async()=>{await l.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await l.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await l.requestEnable()})}async enable(){await this.queue(async()=>{await l.enable()})}async disable(){await this.queue(async()=>{await l.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var t;let n="onEnabledChanged";await (null==(t=this.eventListeners.get(n))?void 0:t.remove());let i=await l.addListener(n,t=>{e(t.value)});this.eventListeners.set(n,i),await l.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;let t="onEnabledChanged";await (null==(e=this.eventListeners.get(t))?void 0:e.remove()),this.eventListeners.delete(t),await l.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await l.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await l.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await l.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await l.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await l.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await l.requestDevice(e))}async requestLEScan(e,t){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var n;await (null==(n=this.scanListener)?void 0:n.remove()),this.scanListener=await l.addListener("onScanResult",e=>{t(Object.assign(Object.assign({},e),{manufacturerData:this.convertObject(e.manufacturerData),serviceData:this.convertObject(e.serviceData),rawAdvertisement:e.rawAdvertisement?this.convertValue(e.rawAdvertisement):void 0}))}),await l.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await (null==(e=this.scanListener)?void 0:e.remove()),this.scanListener=null,await l.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw Error("deviceIds must be an array");return this.queue(async()=>(await l.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw Error("services must be an array");return e=e.map(u),this.queue(async()=>(await l.getConnectedDevices({services:e})).devices)}async getBondedDevices(){return this.queue(async()=>(await l.getBondedDevices()).devices)}async connect(e,t,n){await this.queue(async()=>{var i;if(t){let n=`disconnected|${e}`;await (null==(i=this.eventListeners.get(n))?void 0:i.remove());let a=await l.addListener(n,()=>{t(e)});this.eventListeners.set(n,a)}await l.connect(Object.assign({deviceId:e},n))})}async createBond(e,t){await this.queue(async()=>{await l.createBond(Object.assign({deviceId:e},t))})}async isBonded(e){return await this.queue(async()=>(await l.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await l.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await l.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await l.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await l.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,t){await this.queue(async()=>{await l.requestConnectionPriority({deviceId:e,connectionPriority:t})})}async readRssi(e){return await this.queue(async()=>parseFloat((await l.readRssi({deviceId:e})).value))}async read(e,t,n,i){return t=u(t),n=u(n),await this.queue(async()=>{let a=await l.read(Object.assign({deviceId:e,service:t,characteristic:n},i));return this.convertValue(a.value)})}async write(e,t,n,i,a){return t=u(t),n=u(n),this.queue(async()=>{if(!(null==i?void 0:i.buffer))throw Error("Invalid data.");let r=i;"web"!==o.Capacitor.getPlatform()&&(r=(0,c.dataViewToHexString)(i)),await l.write(Object.assign({deviceId:e,service:t,characteristic:n,value:r},a))})}async writeWithoutResponse(e,t,n,i,a){t=u(t),n=u(n),await this.queue(async()=>{if(!(null==i?void 0:i.buffer))throw Error("Invalid data.");let r=i;"web"!==o.Capacitor.getPlatform()&&(r=(0,c.dataViewToHexString)(i)),await l.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:n,value:r},a))})}async readDescriptor(e,t,n,i,a){return t=u(t),n=u(n),i=u(i),await this.queue(async()=>{let r=await l.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:n,descriptor:i},a));return this.convertValue(r.value)})}async writeDescriptor(e,t,n,i,a,r){return t=u(t),n=u(n),i=u(i),this.queue(async()=>{if(!(null==a?void 0:a.buffer))throw Error("Invalid data.");let s=a;"web"!==o.Capacitor.getPlatform()&&(s=(0,c.dataViewToHexString)(a)),await l.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:n,descriptor:i,value:s},r))})}async startNotifications(e,t,n,i,a){t=u(t),n=u(n),await this.queue(async()=>{var r;let s=`notification|${e}|${t}|${n}`;await (null==(r=this.eventListeners.get(s))?void 0:r.remove());let o=await l.addListener(s,e=>{i(this.convertValue(null==e?void 0:e.value))});this.eventListeners.set(s,o),await l.startNotifications(Object.assign({deviceId:e,service:t,characteristic:n},a))})}async stopNotifications(e,t,n){t=u(t),n=u(n),await this.queue(async()=>{var i;let a=`notification|${e}|${t}|${n}`;await (null==(i=this.eventListeners.get(a))?void 0:i.remove()),this.eventListeners.delete(a),await l.stopNotifications({deviceId:e,service:t,characteristic:n})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(u)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(u)),e}convertValue(e){return"string"==typeof e?(0,c.hexStringToDataView)(e):void 0===e?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(void 0===e)return;let t={};for(let n of Object.keys(e))t[n]=this.convertValue(e[n]);return t}},f=(0,e.i(70703).default)(()=>e.A(40017),{loadableGenerated:{modules:[70476]},ssr:!1}),w="03b80e5a-ede8-4b33-a751-6ce34ec4c700",v="7772e5db-3868-4112-a1a9-f2669d106bf3";e.s(["default",0,()=>{let[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(null),[a,c]=(0,s.useState)(""),l=(0,s.useRef)(),d=e=>c(t=>t+e+"\n");(0,s.useEffect)(()=>{o.Capacitor.isNativePlatform()?h.initialize().then(()=>d("âœ… BLE initialized")).catch(e=>d("âš ï¸ Init error: "+e.message)):d("ðŸŒ Running in browser mode (Web Bluetooth API)")},[]);let u=e=>{l.current&&l.current(e)},p=async()=>{if(!n){t([]),d("ðŸ”Ž Scanning for MIDI devices...");try{if(o.Capacitor.isNativePlatform())await h.requestLEScan({services:[w]},e=>{e.device&&e.rssi>-90&&t(t=>t.find(t=>t.deviceId===e.device.deviceId)?t:(d(`ðŸ“¡ Found: ${e.device.name||e.device.deviceId}`),[...t,e.device]))}),setTimeout(async()=>{await h.stopLEScan(),d(`ðŸ›‘ Scan stopped (${e.length} devices).`)},5e3);else if("bluetooth"in navigator){let e=await navigator.bluetooth.requestDevice({filters:[{services:[w]}],optionalServices:[w]});d(`ðŸŽ¹ Selected device: ${e.name||"Unknown"}`),t([{deviceId:e.id,name:e.name||"Unknown"}]);let n=await e.gatt?.connect(),a=await n?.getPrimaryService(w),r=await a?.getCharacteristic(v);await r?.startNotifications(),r?.addEventListener("characteristicvaluechanged",e=>{let t=e.target.value;t&&u(new Uint8Array(t.buffer))}),i({deviceId:e.id,name:e.name}),d("âœ… Connected via Web Bluetooth!")}else d("âŒ BLE not supported on this platform.")}catch(e){d("âš ï¸ Scan error: "+e.message)}}},g=async e=>{if(o.Capacitor.isNativePlatform()){d(`ðŸ”Œ Connecting to ${e.name||e.deviceId}...`);try{await h.connect(e.deviceId,()=>y()),await h.startNotifications(e.deviceId,w,v,e=>{u(new Uint8Array(e.buffer))}),i(e),d(`âœ… Connected to ${e.name||e.deviceId}`)}catch(e){d(`âš ï¸ Connection error: ${e.message}`)}}},y=async()=>{if(n){try{o.Capacitor.isNativePlatform()?await h.disconnect(n.deviceId):navigator.bluetooth?.getDevices?.().then(async e=>{for(let t of e)t.id===n.deviceId&&t.gatt?.connected&&await t.gatt.disconnect()}),d(`ðŸ”Œ Disconnected: ${n.name}`)}catch(e){d("âš ï¸ Disconnect error: "+e.message)}i(null)}};return(0,r.jsxs)("div",{style:{padding:"20px"},children:[n?(0,r.jsx)(f,{file:"/alphatab/Canon_in_D.gp",onMidiMessage:e=>{l.current=e}}):(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"ðŸŽ¹ Next.js MIDI BLE Scanner"}),(0,r.jsxs)("p",{children:["Tráº¡ng thÃ¡i:"," ",(0,r.jsx)("strong",{children:n?n.name||n.deviceId:"ChÆ°a káº¿t ná»‘i"})]}),(0,r.jsx)("button",{onClick:p,disabled:!!n,style:{padding:"10px",backgroundColor:"lightblue",border:"none",marginRight:"10px"},children:e.length>0?`Rescan (${e.length} found)`:"Start Scan for Piano MIDI"}),(0,r.jsx)("button",{onClick:y,disabled:!n,style:{padding:"10px",backgroundColor:"salmon",border:"none"},children:"Disconnect"}),(0,r.jsx)("hr",{style:{margin:"20px 0"}}),(0,r.jsxs)("h2",{children:["TÃ¬m tháº¥y (",e.length,")"]}),(0,r.jsx)("ul",{style:{listStyleType:"none",padding:0},children:e.map(e=>(0,r.jsxs)("li",{style:{marginBottom:"5px"},children:[(0,r.jsx)("strong",{children:e.name||"Unknown Device"})," (",e.deviceId,")",o.Capacitor.isNativePlatform()?(0,r.jsx)("button",{onClick:()=>g(e),disabled:!!n,style:{marginLeft:"10px",padding:"5px 10px"},children:"Connect"}):null]},e.deviceId))})]}),(0,r.jsx)("hr",{style:{margin:"20px 0"}}),(0,r.jsx)("h2",{children:"Log"}),(0,r.jsx)("pre",{style:{whiteSpace:"pre-wrap",backgroundColor:"#eee",padding:"10px",maxHeight:"300px",overflowY:"scroll",fontSize:"12px"},children:a})]})}],9434)},2250,e=>{e.v(t=>Promise.all(["static/chunks/750aa8847923c9ee.js"].map(t=>e.l(t))).then(()=>t(87740)))},40017,e=>{e.v(t=>Promise.all(["static/chunks/18d163e1e5868b37.js","static/chunks/4387f821f771a013.js","static/chunks/2e30a97915239069.css"].map(t=>e.l(t))).then(()=>t(70476)))}]);